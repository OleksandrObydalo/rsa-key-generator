<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RSA –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ ‚Äî –ü–æ—à–∞–≥–æ–≤–æ–µ –æ–±—É—á–µ–Ω–∏–µ</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; background: #f7f7f7; color: #333; }
    h1 { color: #4a90e2; }
    input, button { padding: 10px; margin: 5px 0; font-size: 1em; }
    .section { background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); margin-bottom: 20px; }
    .output { font-weight: bold; margin-top: 10px; white-space: pre-wrap; }
    .explanation { background: #e3f4ff; padding: 15px; border-radius: 10px; margin-top: 10px; }
    .visualization { margin: 20px 0; text-align: center; }
    .step { margin: 10px 0; padding: 8px; border-left: 3px solid #4a90e2; }
    .active-step { background-color: #fffde7; font-weight: bold; }
    .math { font-family: 'Courier New', monospace; background: #f0f0f0; padding: 2px 5px; border-radius: 3px; }
    .tabs { display: flex; margin-bottom: 10px; }
    .tab { padding: 10px 15px; cursor: pointer; border: 1px solid #ddd; border-radius: 5px 5px 0 0; margin-right: 5px; }
    .tab.active { background-color: #4a90e2; color: white; }
    .tab-content { display: none; }
    .tab-content.active { display: block; }
    #animationContainer { height: 200px; position: relative; overflow: hidden; margin: 20px 0; }
    .key, .lock, .message, .cipher { position: absolute; transition: all 1s ease; }
    .prime-checker { margin-top: 5px; color: #e74c3c; display: none; }
    .gcd-checker { margin-top: 5px; color: #e74c3c; display: none; }
    .button-primary { background-color: #4a90e2; color: white; border: none; cursor: pointer; }
    .button-primary:hover { background-color: #3a80d2; }
    .button-secondary { background-color: #f0f0f0; border: 1px solid #ddd; cursor: pointer; }
    .button-secondary:hover { background-color: #e0e0e0; }
    .key-pair { display: flex; justify-content: space-between; margin: 15px 0; }
    .key-box { border: 1px solid #ddd; padding: 10px; border-radius: 5px; width: 45%; }
    .public-key { background-color: #e8f5e9; }
    .private-key { background-color: #ffebee; }
  </style>
</head>
<body>
  <h1>üõ°Ô∏è –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —É—á–µ–±–Ω–∏–∫ –ø–æ RSA —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—é</h1>

  <div class="section">
    <h2>–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç (–æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ)</h2>
    <div class="tabs">
      <div class="tab active" onclick="changeTab('basic')">–ü—Ä–æ—Å—Ç–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ</div>
      <div class="tab" onclick="changeTab('visual')">–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è</div>
      <div class="tab" onclick="changeTab('math')">–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞</div>
    </div>
    
    <div id="basic" class="tab-content active">
      <div class="explanation">
        –ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ —Ç—ã —Ö–æ—á–µ—à—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–µ–∫—Ä–µ—Ç–Ω–æ–µ —á–∏—Å–ª–æ –¥—Ä—É–≥—É, –∏ –Ω–∏–∫—Ç–æ –±–æ–ª—å—à–µ –Ω–µ –¥–æ–ª–∂–µ–Ω –µ–≥–æ –ø–æ–Ω—è—Ç—å. <br>
        <ul>
          <li>–¢—ã –±–µ—Ä–µ—à—å –¥–≤–∞ <strong>–ø—Ä–æ—Å—Ç—ã—Ö —á–∏—Å–ª–∞</strong> (–Ω–∞–ø—Ä–∏–º–µ—Ä, 7 –∏ 11). –û–Ω–∏ –∫–∞–∫ –∫–ª—é—á–∏ –æ—Ç –∑–∞–º–∫–∞.</li>
          <li>–¢—ã —Å–æ–∑–¥–∞–µ—à—å <strong>–ø—É–±–ª–∏—á–Ω—ã–π –∑–∞–º–æ–∫</strong> (–µ–≥–æ –º–æ–∂–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤—Å–µ–º) –∏ <strong>–ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á</strong> (–¥–µ—Ä–∂–∏ –≤ —Ç–∞–π–Ω–µ!).</li>
          <li>–ö–æ–≥–¥–∞ —Ç—ã —Ö–æ—á–µ—à—å –∑–∞—à–∏—Ñ—Ä–æ–≤–∞—Ç—å —á–∏—Å–ª–æ, —Ç—ã –∫–∞–∫ –±—ã "–∑–∞–∫—Ä—É—á–∏–≤–∞–µ—à—å –∑–∞–º–æ–∫", –∏—Å–ø–æ–ª—å–∑—É—è —Ñ–æ—Ä–º—É–ª—É: <code>C = M^e mod n</code>.</li>
          <li>–ß—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –æ–±—Ä–∞—Ç–Ω–æ, —Ç–≤–æ–π –¥—Ä—É–≥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç <strong>–ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á</strong> –∏ —Ñ–æ—Ä–º—É–ª—É: <code>M = C^d mod n</code>.</li>
        </ul>
        –≠—Ç–æ –∫–∞–∫ –µ—Å–ª–∏ –±—ã —Ç—ã –ø–æ–ª–æ–∂–∏–ª –∏–≥—Ä—É—à–∫—É –≤ –∫–æ—Ä–æ–±–∫—É, –∑–∞–∫—Ä—ã–ª –µ—ë –∫–æ–¥–æ–≤—ã–º –∑–∞–º–∫–æ–º, –∏ —Ç–æ–ª—å–∫–æ —Ç–æ—Ç, —É –∫–æ–≥–æ –µ—Å—Ç—å –∫–ª—é—á, —Å–º–æ–∂–µ—Ç –µ—ë –¥–æ—Å—Ç–∞—Ç—å! üîê
      </div>
    </div>
    
    <div id="visual" class="tab-content">
      <div class="visualization">
        <div id="animationContainer">
          <!-- –ó–¥–µ—Å—å –±—É–¥–µ—Ç –∞–Ω–∏–º–∞—Ü–∏—è -->
        </div>
        <button onclick="playAnimation()" class="button-primary">–ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é</button>
      </div>
    </div>
    
    <div id="math" class="tab-content">
      <div class="explanation">
        <h3>–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—Å–Ω–æ–≤—ã RSA:</h3>
        <ol>
          <li>–í—ã–±–æ—Ä –¥–≤—É—Ö –ø—Ä–æ—Å—Ç—ã—Ö —á–∏—Å–µ–ª: p –∏ q</li>
          <li>–í—ã—á–∏—Å–ª–µ–Ω–∏–µ –º–æ–¥—É–ª—è: n = p √ó q</li>
          <li>–í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≠–π–ª–µ—Ä–∞: œÜ(n) = (p-1)(q-1)</li>
          <li>–í—ã–±–æ—Ä –æ—Ç–∫—Ä—ã—Ç–æ–π —ç–∫—Å–ø–æ–Ω–µ–Ω—Ç—ã e: 1 < e < œÜ(n), —Ç–∞–∫–æ–π —á—Ç–æ –ù–û–î(e, œÜ(n)) = 1</li>
          <li>–í—ã—á–∏—Å–ª–µ–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç–æ–π —ç–∫—Å–ø–æ–Ω–µ–Ω—Ç—ã d: d √ó e ‚â° 1 (mod œÜ(n))</li>
          <li>–û—Ç–∫—Ä—ã—Ç—ã–π –∫–ª—é—á: (e, n), –ó–∞–∫—Ä—ã—Ç—ã–π –∫–ª—é—á: (d, n)</li>
          <li>–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ: C ‚â° M^e (mod n)</li>
          <li>–î–µ—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ: M ‚â° C^d (mod n)</li>
        </ol>
      </div>
    </div>
  </div>

  <div class="section">
    <h2>1. –í–≤–æ–¥ –Ω–∞—á–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π</h2>
    <label>–í–≤–µ–¥–∏—Ç–µ –ø–µ—Ä–≤–æ–µ –ø—Ä–æ—Å—Ç–æ–µ —á–∏—Å–ª–æ (p): <input type="number" id="p" value="7" onchange="checkPrime('p')"></label>
    <div id="pChecker" class="prime-checker">–ß–∏—Å–ª–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—Ä–æ—Å—Ç—ã–º!</div><br>
    
    <label>–í–≤–µ–¥–∏—Ç–µ –≤—Ç–æ—Ä–æ–µ –ø—Ä–æ—Å—Ç–æ–µ —á–∏—Å–ª–æ (q): <input type="number" id="q" value="11" onchange="checkPrime('q')"></label>
    <div id="qChecker" class="prime-checker">–ß–∏—Å–ª–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—Ä–æ—Å—Ç—ã–º!</div><br>
    
    <label>–ü—É–±–ª–∏—á–Ω–∞—è —ç–∫—Å–ø–æ–Ω–µ–Ω—Ç–∞ (e): <input type="number" id="e" value="17" onchange="checkGCD()"></label>
    <div id="eChecker" class="gcd-checker">e –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤–∑–∞–∏–º–Ω–æ –ø—Ä–æ—Å—Ç—ã–º —Å œÜ(n)!</div><br>
    
    <button onclick="generateKeys()" class="button-primary">–ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–ª—é—á–∏</button>
    <button onclick="useDefaultValues()" class="button-secondary">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è</button>
    
    <div class="key-pair">
      <div class="key-box public-key">
        <h3>–û—Ç–∫—Ä—ã—Ç—ã–π –∫–ª—é—á üîì</h3>
        <div id="publicKey">–ï—â–µ –Ω–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω</div>
      </div>
      <div class="key-box private-key">
        <h3>–ó–∞–∫—Ä—ã—Ç—ã–π –∫–ª—é—á üîë</h3>
        <div id="privateKey">–ï—â–µ –Ω–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω</div>
      </div>
    </div>
    
    <div class="output" id="keyOutput"></div>
  </div>

  <div class="section">
    <h2>2. –ó–∞—à–∏—Ñ—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ</h2>
    <label>–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ (M): <input type="number" id="message" value="27"></label><br>
    <button onclick="encrypt()" class="button-primary">–ó–∞—à–∏—Ñ—Ä–æ–≤–∞—Ç—å</button>
    <div class="output" id="encryptOutput"></div>
    <div id="encryptSteps" class="explanation" style="display: none;"></div>
  </div>

  <div class="section">
    <h2>3. –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ</h2>
    <label>–ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ (C): <input type="number" id="cipher" value=""></label><br>
    <button onclick="decrypt()" class="button-primary">–†–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å</button>
    <div class="output" id="decryptOutput"></div>
    <div id="decryptSteps" class="explanation" style="display: none;"></div>
  </div>

  <div class="section">
    <h2>–ü–æ—à–∞–≥–æ–≤–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π</h2>
    <div class="explanation" id="stepExplanation">
      <div id="steps">
        <div class="step active-step" id="step1"><strong>–®–∞–≥ 1:</strong> –í—ã–±–∏—Ä–∞–µ–º –¥–≤–∞ –ø—Ä–æ—Å—Ç—ã—Ö —á–∏—Å–ª–∞: p –∏ q</div>
        <div class="step" id="step2"><strong>–®–∞–≥ 2:</strong> –í—ã—á–∏—Å–ª—è–µ–º n = p √ó q</div>
        <div class="step" id="step3"><strong>–®–∞–≥ 3:</strong> –í—ã—á–∏—Å–ª—è–µ–º œÜ(n) = (p - 1)(q - 1)</div>
        <div class="step" id="step4"><strong>–®–∞–≥ 4:</strong> –í—ã–±–∏—Ä–∞–µ–º e (–≤–∑–∞–∏–º–Ω–æ –ø—Ä–æ—Å—Ç–æ —Å œÜ(n))</div>
        <div class="step" id="step5"><strong>–®–∞–≥ 5:</strong> –í—ã—á–∏—Å–ª—è–µ–º d ‚Äî —Ç–∞–∫–æ–µ —á–∏—Å–ª–æ, —á—Ç–æ (d √ó e) mod œÜ(n) = 1</div>
        <div class="step" id="step6"><strong>–®–∞–≥ 6:</strong> –ó–∞—à–∏—Ñ—Ä–æ–≤–∫–∞: C = M^e mod n</div>
        <div class="step" id="step7"><strong>–®–∞–≥ 7:</strong> –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞: M = C^d mod n</div>
      </div>
      <div style="margin-top: 15px;">
        –í—Å–µ —à–∞–≥–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –ü–æ–ø—Ä–æ–±—É–π —Å–∞–º! üòâ
      </div>
    </div>
  </div>

  <script src="main.js"></script>
</body>
</html>